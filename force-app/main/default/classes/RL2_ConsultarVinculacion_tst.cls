/************************************************************************************************
Desarrollado por:  Globant
Autor:             Jorge Pozo (JPA)
Proyecto:          Compensar
Descripción:       Clase de prueba de la clase RL2_ConsultarVinculacion_ctr

Cambios (Versiones)
-------------------------------------------------------------------------------------------------
    No.     Fecha                  Autor                                 Descripción
----------  -------------   ----------------------  ---------------------------------------------
    1.0     05/08/21        Jorge Pozo (JPA)      	Creación Clase.
************************************************************************************************/
@isTest
public class RL2_ConsultarVinculacion_tst {
    private static String responseSuccess = '{ "CustomerMng_ConsultaCliente_Response" : { "Header" : { "RequestDate" : "2017-08-09T15:48:36.497-05:00", "ResponseDate" : "2017-08-09T15:48:36.594-05:00", "ResponseCode" : "0", "ResponseDesc" : "OK", "TransactionID" : "99910072100" }, "Body" : { "Vinculacion" : { "AfiliadoCaja" : "false", "AfiliacionConResponsable" : "false", "AfiliadoSalud" : "false", "AfiliadoPLC" : "false" }, "Cliente" : { "TipoIdentificacion" : "1", "NumeroIdentificacion" : "28868463", "Id" : "9999803457925823", "datosPersona" : { "nombrePrimero" : "NORFIDIA", "nombreSegundo" : "", "apellidoPrimero" : "SANCHEZ", "apellidoSegundo" : "SANCHEZ", "nombre" : "NORFIDIA SANCHEZ SANCHEZ", "foneticoID" : "19771215SANSESSANORFIDIA", "nuip" : "", "Familia" : { "familia" :[{ "tipoParentesco" : "HI", "familiar" : { "legalID" : "1000115711", "tipoIdentificacion" : "3", "id" : "9999803457925821", "datosPersona" : { "nombrePrimero" : "YEFER", "nombreSegundo" : "ESTEBAN", "apellidoPrimero" : "RICO", "apellidoSegundo" : "SANCHEZ", "nombre" : "YEFER ESTEBAN RICO SANCHEZ", "nuip" : " ", "demografia" : { "nacimientoFecha" : "1997-02-25T00:00:00", "genero" : "M", "estadoCivil" : "SO" }, "motivoInactivacion" : { "id" : "0" } }, "Sucursal" : "", "comunicacionesCliente" : "", "Contacto" : "", "Afiliacion" : { "afiliacion" :[{ "cantidadVinculacion" : "0", "categoriaAfiliacion" : "A", "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2010-12-26T00:00:00", "inicioFecha" : "2010-11-10T00:00:00", "retiroFecha" : "2010-12-26T00:00:00", "valorVinculacion" : "0", "variableRetiro" : "CRETHIJ", "Programa" : { "programa" :[{ "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "0", "programaPadre" : "1021", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "20", "nombre" : "Desvinculación laboral" }, "clientePropietarioID" : "0", "tipoParentesco" : "HI", "sigla" : "CJ", "nombrePrograma" : "Hijos de Trabajador Dependiente", "diasParaReactivacion" : "0" }] }, "id" : "6692318", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "-" }] }, "Radicacion" : "" } },{ "tipoParentesco" : "HI", "familiar" : { "legalID" : "1000128774", "tipoIdentificacion" : "3", "id" : "9999803457925822", "datosPersona" : { "nombrePrimero" : "JHON", "nombreSegundo" : "JAIRO", "apellidoPrimero" : "RICO", "apellidoSegundo" : "SANCHEZ", "nombre" : "JHON JAIRO RICO SANCHEZ", "nuip" : " ", "demografia" : { "nacimientoFecha" : "2002-11-12T00:00:00", "genero" : "M", "estadoCivil" : "SO" }, "motivoInactivacion" : { "id" : "0" } }, "Sucursal" : "", "comunicacionesCliente" : "", "Contacto" : "", "Afiliacion" : { "afiliacion" :[{ "cantidadVinculacion" : "1", "categoriaAfiliacion" : "A", "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2010-12-26T00:00:00", "inicioFecha" : "2010-08-06T00:00:00", "retiroFecha" : "2010-12-26T00:00:00", "valorVinculacion" : "0", "variableRetiro" : "CRETHIJ", "Programa" : { "programa" :[{ "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "0", "programaPadre" : "1021", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "20", "nombre" : "Desvinculación laboral" }, "clientePropietarioID" : "0", "tipoParentesco" : "HI", "sigla" : "CJ", "nombrePrograma" : "Hijos de Trabajador Dependiente", "diasParaReactivacion" : "0" }] }, "id" : "6692321", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "-" }] }, "Radicacion" : "" } }] }, "demografia" : { "nacimientoFecha" : "1977-12-15T00:00:00", "nacimientoLugar" : "", "genero" : "F", "estadoCivil" : "UL", "gradoEscolaridad" : "", "TitulosObtenidos" : "", "OficiosProfesiones" : "", "OtrosEstudios" : "" }, "categoriaAfiliacion" : "", "estadoAfiliacion" : "A", "motivoInactivacion" : { "id" : "0" } }, "Sucursal" : { "sucursal" :[{ "id" : "", "sucursalID" : "0", "nivelAdicional" : "N", "razonSocial" : "", "mantenimiento" : "" }] }, "comunicacionesCliente" : { "comunicacionCliente" :[{ "telefonos" : { "telefonoComunicacion" :[{ "tipoTelefono" : "1", "telefono" : "7191761", "extensionTelefono" : "0" }] }, "domicilios" : { "domicilioComunicacion" :[{ "barrio" : "PRIMAVERA", "tipoDomicilio" : "", "domicilio" : "TV 77A # 58A - 03 SUR", "codigoPostal" : "-", "localidad" : { "id" : "11001", "municipio" : { "id" : "-1", "nombre" : "", "departamento" : { "id" : "-" } }, "nombre" : "BOGOTA" }, "tipoAreaGeografica" : "U" }] }, "correosElectronicos" : "", "celulares" : "", "redesSociales" : "", "adicionalesContacto" : { "borradoEstado" : "A", "creacionFecha" : "2010-08-17T00:00:00", "ultimaNovedadFecha" : "2010-08-17T00:00:00", "identificador" : "2750692", "orden" : "1", "zonaBogota" : "19" } }] }, "Contacto" : "", "Afiliacion" : { "afiliacion" :[{ "beneficiarios" : "", "cantidadVinculacion" : "0", "categoriaAfiliacion" : "A", "motivoRetiro" : { "id" : "0", "nombre" : "-" }, "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1", "id" : "9999803427861117", "nombre" : "HUVER ANTONIO RICO SANCHEZ", "legalID" : "5972948", "tipoIdentificacion" : "1" },{ "tipoResponsable" : "2", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "3", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "4", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2008-05-05T00:00:00", "inicioFecha" : "2006-11-16T00:00:00", "retiroFecha" : "2008-05-05T00:00:00", "soloServicio" : "0", "textoVinculacion" : "", "valorVinculacion" : "0", "variableRetiro" : "CRETCOY", "Programa" : { "programa" :[{ "condicion" : "3", "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "10311", "programaPadre" : "1021", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "0", "nombre" : "-" }, "clientePropietarioID" : "0", "tipoParentesco" : "CY", "sigla" : "CJ", "tipoIdClientePropietario" : "0", "nombrePrograma" : "Cónyuge de Trabajador Dependiente", "nombreProgramaPadre" : "", "diasParaReactivacion" : "0" }] }, "id" : "6692322", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "1", "clienteID" : "" },{ "beneficiarios" : "", "cantidadVinculacion" : "0", "categoriaAfiliacion" : "", "motivoRetiro" : { "id" : "1", "nombre" : "-" }, "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1", "id" : "9999803427861117", "nombre" : "HUVER ANTONIO RICO SANCHEZ", "legalID" : "5972948", "tipoIdentificacion" : "1" },{ "tipoResponsable" : "2", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "3", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "4", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2008-05-05T00:00:00", "ingresoEmpresaFecha" : "2006-11-16T00:00:00", "inicioFecha" : "2006-11-16T00:00:00", "retiroFecha" : "2008-05-05T00:00:00", "soloServicio" : "0", "textoVinculacion" : "", "valorVinculacion" : "0", "variableRetiro" : "CRETCOY", "Programa" : { "programa" :[{ "condicion" : "3", "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "10311", "programaPadre" : "1021", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "1", "nombre" : "Voluntario por traslado de Caja" }, "clientePropietarioID" : "0", "tipoParentesco" : "CY", "sigla" : "CJ", "tipoIdClientePropietario" : "0", "nombrePrograma" : "Cónyuge de Trabajador Dependiente", "nombreProgramaPadre" : "", "diasParaReactivacion" : "0" }] }, "id" : "6692323", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "1", "clienteID" : "" },{ "beneficiarios" : "", "cantidadVinculacion" : "0", "categoriaAfiliacion" : "A", "motivoRetiro" : { "id" : "20", "nombre" : "-" }, "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1", "id" : "9999803427861117", "nombre" : "HUVER ANTONIO RICO SANCHEZ", "legalID" : "5972948", "tipoIdentificacion" : "1" },{ "tipoResponsable" : "2", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "3", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "4", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2013-05-29T00:00:00", "inicioFecha" : "2013-05-10T00:00:00", "retiroFecha" : "2013-05-29T00:00:00", "soloServicio" : "0", "textoVinculacion" : "", "valorVinculacion" : "0", "variableRetiro" : "CRETCOY", "Programa" : { "programa" :[{ "condicion" : "3", "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "10311", "programaPadre" : "1021", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "20", "nombre" : "Desvinculación laboral" }, "clientePropietarioID" : "0", "tipoParentesco" : "CY", "sigla" : "CJ", "tipoIdClientePropietario" : "0", "nombrePrograma" : "Cónyuge de Trabajador Dependiente", "nombreProgramaPadre" : "", "diasParaReactivacion" : "0" }] }, "id" : "11851719", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "1", "clienteID" : "" },{ "beneficiarios" : "", "cantidadVinculacion" : "240", "categoriaAfiliacion" : "A", "motivoRetiro" : { "id" : "20", "nombre" : "-" }, "ClienteResponsable" : { "clienteResponsable" :[{ "tipoResponsable" : "1", "id" : "9999803457925823", "nombre" : "NORFIDIA SANCHEZ SANCHEZ", "legalID" : "28868463", "tipoIdentificacion" : "1" },{ "tipoResponsable" : "2", "id" : "9999803423514845", "nombre" : " QUALITY DE COLOMBIA COOPERATIVA DE TRABAJO ASOCIADO ", "legalID" : "900099185", "tipoIdentificacion" : "2" },{ "tipoResponsable" : "3", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" },{ "tipoResponsable" : "4", "id" : "0", "nombre" : "", "legalID" : "0", "tipoIdentificacion" : "0" }] }, "cmnt" : "H", "actualizadoEstado" : "false", "nuevoEstado" : "false", "estado" : "1", "finFecha" : "2010-12-26T00:00:00", "ingresoEmpresaFecha" : "2010-07-30T00:00:00", "inicioFecha" : "2010-08-06T00:00:00", "retiroFecha" : "2010-12-26T00:00:00", "soloServicio" : "0", "textoVinculacion" : "AUX ALMACEN", "valorVinculacion" : "520000", "variableRetiro" : "CRETRDP", "Programa" : { "programa" :[{ "condicion" : "2", "diasPaHisto" : "0", "tipoRadicacion" : "0", "edadReAuto" : "0", "genNuevoRadicadoEstado" : "false", "grupo" : "0", "id" : "1021", "programaPadre" : "1011", "indicadorProgramaEstado" : "0", "indicadorVinculacionEstado" : "0", "manejaResponsable1PersonaEstado" : "false", "manejaResponsable2EmpresaEstado" : "false", "motivoRetiroOpcional" : { "id" : "20", "nombre" : "Desvinculación laboral" }, "clientePropietarioID" : "0", "tipoParentesco" : "TD", "sigla" : "CJ", "tipoIdClientePropietario" : "0", "nombrePrograma" : "Trabajador Dependiente", "nombreProgramaPadre" : "", "diasParaReactivacion" : "0" }] }, "id" : "6692324", "motivoInactivacion" : { "id" : "0" }, "estadoAfiliacion" : "1", "clienteID" : "" }] }, "Radicacion" : "" }, "atributosComunes" : { "beneficiarioEstado" : "false", "empresaEstado" : "false", "saltarFoneticoEstado" : "false", "indice" : "0", "edadMayor" : "false" } } }}';
    
    @isTest
    private static void testGetHistorialVinculaciones() {
        
        Test.startTest();
        COM_CalloutGenericRestMock_tst tstMock = new
        COM_CalloutGenericRestMock_tst(responseSuccess, 200, 'OK');
        Test.setMock(HttpCalloutMock.class, tstMock);
        
        List<RL2_ConsultarVinculacion_ctr.ResultWrapper> result = new List<RL2_ConsultarVinculacion_ctr.ResultWrapper>();
        result = RL2_ConsultarVinculacion_ctr.getHistorialVinculaciones('1', '12345678');
        Test.stopTest();
        
    }

}